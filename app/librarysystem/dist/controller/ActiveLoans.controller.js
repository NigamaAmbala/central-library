sap.ui.define(["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("com.app.librarysystem.controller.ActiveLoans",{onInit:function(){},onpresscloseLoan:async function(){console.log(this.byId("idUserLoans").getSelectedItem().getBindingContext().getObject());var e=this.byId("idUserLoans").getSelectedItem().getBindingContext().getObject(),t=e.books.ID,o=e.books.quantityAvailable+1;var s=this.byId("idUserLoans").getSelectedItems();console.log();const n=new sap.ui.model.json.JSONModel({books:{quantityAvailable:o}});this.getView().setModel(n,"userModel");const i=this.getView().getModel("userModel").getProperty("/"),r=this.getView().getModel("ModelV2");try{r.update("/Books("+t+")",i.books,{success:function(){this.getView().byId("idBooksTable").getBinding("items").refresh()},error:function(e){sap.m.MessageBox.error("Failed to update book: "+e.message)}.bind(this)})}catch(e){sap.m.MessageBox.error("Some technical Issue")}this.byId("idUserLoans").getSelectedItem().getBindingContext().delete("$auto")},onBackbutton:function(){var e=this.getOwnerComponent().getRouter();e.navTo("RouteAdmin",{},true)}})});
//# sourceMappingURL=ActiveLoans.controller.js.map